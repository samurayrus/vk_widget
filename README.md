# vk_widget
 Вывод в виджет сообщества информации о активных серверах с автообновлением по таймеру и обновлением данных для входа из porperty файла при команде restart.
 [java 8]
 
Файл GroupToken.properties можно отредактировать блокнотом. Класть рядом с jar
- GroupId=ID группы
- GroupToken=Токен управления виджетом (Управление - работа с API)
- URL=http:// (Откуда берется json серверов)
- OfficialServerIp=[ip without port]

Запуск jar:
- java -jar /home/user/jar_name.jar - для Linux
- java -jar C:\Users\user\jar_name.jar - для Windows

Команды управления:
- help [Выводит текущие команды и желает удачи]
- e [Запуск по дефолту. Обновление раз в 50 секунд]
- q [Завершение работы программы]
- p [Пауза]
- r [рестарт с обновлением данных из property]
- t X [Выставить время обновления и запустить]
- s X - [Где X true or false. Сэйф мод, который не выводит сервера на которых меньше двух человек (помимо официальных)]
- Hs X - [Где X true or false. Сэйф мод. Выводит только офф сервера]

Алгоритм -> Сервера берутся из get запроса с получением json, создаётся список объектов через objectMapper, проводится сортировка по игрокам и статусу сервера, формируется запрос для vk, используя заготовленный шаблон и данные из объектов -> данные отправляются и выводится ответ на консоль. Повторяем через n секунд.

 На данный момент нужно переписать формирование запроса на обновление виджета. Простите за это :'(
 Если будете использовать этот код, то укажите samuraryus где-нибудь (:
 В версии 3.5 убрал рейтинг
 ![Image alt](Screenshot_429.png)
